function normalPool(e){var t,n=0;do{if(t=Math.round(normal({mean:e.mean,dev:e.dev})),t<e.pool.length&&t>=0)return e.pool[t];n++}while(n<100)}function randomNormal(e){if(e=Object.assign({mean:0,dev:1,pool:[]},e),Array.isArray(e.pool)&&e.pool.length>0)return normalPool(e);var t,n,s,o,i=e.mean,a=e.dev;do t=(n=2*Math.random()-1)*n+(s=2*Math.random()-1)*s;while(t>=1)return o=n*Math.sqrt(-2*Math.log(t)/t),a*o+i}const NUM_PARTICLES=350,PARTICLE_SIZE=.5,SPEED=2e4;let particles=[];function rand(e,t){return Math.random()*(t-e)+e}function getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}function createParticle(){const t={r:41,g:41,b:randomNormal({mean:255,dev:20}),a:rand(0,1)};return{x:-2,y:-2,diameter:Math.max(0,randomNormal({mean:PARTICLE_SIZE,dev:PARTICLE_SIZE/2})),duration:randomNormal({mean:SPEED,dev:SPEED*.1}),amplitude:randomNormal({mean:16,dev:2}),offsetY:randomNormal({mean:0,dev:10}),arc:Math.PI*2,startTime:performance.now()-rand(0,SPEED),colour:`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}}function moveParticle(e,t,n){const s=(n-e.startTime)%e.duration/e.duration;return{...e,x:s,y:Math.sin(s*e.arc)*e.amplitude+e.offsetY}}function drawParticle(e,t,n){t=document.getElementById("particle-canvas");const s=t.height/100;n.fillStyle=e.colour,n.beginPath(),n.ellipse(e.x*t.width,e.y*s+t.height/2,e.diameter*s,e.diameter*s,0,0,2*Math.PI),n.fill()}function draw(e,t,n){particles.forEach((n,s)=>{particles[s]=moveParticle(n,t,e)}),n.clearRect(0,0,t.width,t.height),particles.forEach(e=>{drawParticle(e,t,n)}),requestAnimationFrame(e=>draw(e,t,n))}function initializeCanvas(){if(document.getElementById("particle-canvas")){let e=document.getElementById("particle-canvas");e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio;let t=e.getContext("2d");return window.addEventListener("resize",()=>{e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio,t=e.getContext("2d")}),[e,t]}return null}function startAnimation(){var e=Math.min(window.innerWidth,window.innerHeight)<990||navigator.userAgent.indexOf("Mobi")>-1;if(e){particles.splice(0,particles.length);return}if(initializeCanvas()){const[e,t]=initializeCanvas();for(let t=0;t<NUM_PARTICLES;t++)particles.push(createParticle(e));requestAnimationFrame(n=>draw(n,e,t))}}(function(){document.readystate!=="loading"?startAnimation():document.addEventListener("DOMContentLoaded",()=>{startAnimation()})})(),window.addEventListener("resize",()=>{particles.splice(0,particles.length),startAnimation()})